webpackJsonp([10],{Z6B7:function(e,s){},djVU:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var n=t("mvHQ"),a=t.n(n),i=t("mtWM"),o=t.n(i),r={name:"",data:function(){return{phoneNumber:"",psdImgFlag:!0,phoneImgFlag:!0,phoneImgFlag0:!1,psdImgFlag0:!1,psd:"",Tips:!1}},watch:{phoneNumber:function(){this.checkNumber()}},methods:{goBack:function(){this.$router.go(-1)},goForgetPsd:function(){this.$router.push("/forgetpsd")},goRegister:function(){this.$router.replace("/register")},goLogin:function(){var e=this;if(!this.psdImgFlag&&!this.phoneImgFlag&&!this.Tips){var s=new URLSearchParams,t={userAccount:this.phoneNumber,userPassword:this.psd,equipmentType:3,institutionId:"10103",publicIp:"183.56.162.88"};s.append("params",a()(t)),o.a.post("http://www.gk0101.com/cms/rest/v1/login/doLogin",s).then(function(s){var t=s.data.code,n=s.data.data.id;0===t?(e.$router.replace("/home"),localStorage.setItem("userID",n),window.webkit.messageHandlers.saveUserId.postMessage(n)):e.Tips=!0}).catch(function(e){alert("登录失败了~~~"+e)})}},checkNumber:function(){/^\d+/.test(this.phoneNumber)?this.phoneNumber=this.phoneNumber.replace(/\D/g,""):this.phoneNumber=""},changeFlag0:function(e){"phone"===e?(this.phoneImgFlag0=!0,this.Tips=!1):"psd"===e&&(this.psdImgFlag0=!0,this.Tips=!1)},checkPhone:function(){/^1[34578]\d{9}$/.test(this.phoneNumber)?this.phoneImgFlag=!1:this.phoneImgFlag=!0},checkPsd:function(){this.psd?this.psdImgFlag=!1:this.psdImgFlag=!0},FingerPrintLoginSuccess:function(e){this.$router.replace("/home"),localStorage.setItem("userID",e),window.webkit.messageHandlers.saveUserId.postMessage(e)}},mounted:function(){this.$app.FingerPrintLoginSuccess=this.FingerPrintLoginSuccess,window.webkit.messageHandlers.currentPage.postMessage("login")}},c={render:function(){var e=this,s=e.$createElement,n=e._self._c||s;return n("div",{staticClass:"mine"},[n("a",{staticClass:"backArrow",attrs:{href:"javascript:;"},on:{click:e.goBack}},[n("img",{attrs:{src:t("H5bj")}})]),e._v(" "),n("p",{staticClass:"banner"},[e._v("登录国凯鲁班学院")]),e._v(" "),n("div",{staticClass:"inputPhone"},[n("span",[e._v("+86")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.phoneNumber,expression:"phoneNumber"}],attrs:{type:"text",placeholder:"请输入手机号"},domProps:{value:e.phoneNumber},on:{blur:e.checkPhone,focus:function(s){return e.changeFlag0("phone")},input:function(s){s.target.composing||(e.phoneNumber=s.target.value)}}}),e.phoneImgFlag?n("img",{directives:[{name:"show",rawName:"v-show",value:e.phoneImgFlag0,expression:"phoneImgFlag0"}],attrs:{src:t("7rtp")}}):n("img",{attrs:{src:t("5hax")}})]),e._v(" "),n("div",{staticClass:"inputPsd"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.psd,expression:"psd"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:e.psd},on:{focus:function(s){return e.changeFlag0("psd")},blur:e.checkPsd,input:function(s){s.target.composing||(e.psd=s.target.value)}}}),e.psdImgFlag?n("img",{directives:[{name:"show",rawName:"v-show",value:e.psdImgFlag0,expression:"psdImgFlag0"}],attrs:{src:t("7rtp")}}):n("img",{attrs:{src:t("5hax")}})]),e._v(" "),n("div",{staticClass:"forgetPsd"},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.Tips,expression:"Tips"}]},[e._v("请确认手机号和密码有效性")]),n("span",{on:{click:e.goForgetPsd}},[e._v("忘记密码")])]),e._v(" "),n("div",{staticClass:"btn"},[n("button",{staticClass:"register_btn",on:{click:e.goRegister}},[e._v("注册")]),n("button",{staticClass:"login_btn",on:{click:e.goLogin}},[e._v("登录")])])])},staticRenderFns:[]};var p=t("VU/8")(r,c,!1,function(e){t("Z6B7")},"data-v-744077b1",null);s.default=p.exports},mvHQ:function(e,s,t){e.exports={default:t("qkKv"),__esModule:!0}},qkKv:function(e,s,t){var n=t("FeBl"),a=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}}});