webpackJsonp([14],{djVU:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=t("mvHQ"),n=t.n(i),r=t("mtWM"),o=t.n(r),a={name:"",data:function(){return{phoneNumber:"",psdImgFlag:!0,phoneImgFlag:!0,phoneImgFlag0:!1,psdImgFlag0:!1,psd:"",TipsMsg:["手机号还未注册","请输入正确的手机格式","密码为6位且不超过20位的数字或字母或下划线组成"],errorTipsMsg:"",oldPhone:!1}},watch:{phoneNumber:function(){this.checkNumber()}},methods:{goBack:function(){this.$router.go(-1)},goForgetPsd:function(){this.$router.push("/forgetpsd")},goRegister:function(){this.$router.replace("/register")},goLogin:function(){var e=this;if(this.psdImgFlag||this.phoneImgFlag||this.errorTipsMsg||!this.oldPhone)!this.errorTipsMsg&&this.phoneImgFlag?this.errorTipsMsg="请输入手机号":!this.errorTipsMsg&&this.psdImgFlag&&(this.errorTipsMsg="请输入密码");else{var s=new URLSearchParams,t={userAccount:this.phoneNumber,userPassword:this.psd,equipmentType:3,institutionId:10103,publicIp:"183.56.162.88"};s.append("params",n()(t)),o.a.post("http://gjzxedu.gtafe.com//cms/rest/v1/login/doLogin",s).then(function(s){var t=s.data.code,i=s.data.data.id;0===t?(e.$router.replace("/home"),localStorage.setItem("userID",i),localStorage.setItem("phoneNumber",e.phoneNumber),window.JSIAppData?window.JSIAppData.saveUserId(i):window.webkit&&window.webkit.messageHandlers.saveUserId.postMessage(i)):e.errorTipsMsg=s.data.msg}).catch(function(e){alert("登录失败了~~~"+e)})}},checkNumber:function(){/^\d+/.test(this.phoneNumber)?this.phoneNumber=this.phoneNumber.replace(/\D/g,""):this.phoneNumber=""},changeFlag0:function(e){"phone"===e?this.phoneImgFlag0=!0:"psd"===e&&(this.psdImgFlag0=!0)},checkOldphone:function(){var e=this;if(/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/.test(this.phoneNumber)){var s=new URLSearchParams,t=this.phoneNumber.toString();s.append("mobile",t),o.a.post("http://gjzxedu.gtafe.com//cms/isNoMobile",s).then(function(s){s.data.mess?(e.oldPhone=!0,e.errorTipsMsg=""):(e.errorTipsMsg=e.TipsMsg[0],e.oldPhone=!1)})}},checkPhone:function(){/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/.test(this.phoneNumber)?this.oldPhone?this.phoneImgFlag=!1:this.phoneImgFlag=!0:(this.phoneImgFlag=!0,this.errorTipsMsg=this.TipsMsg[1])},checkPsd:function(){this.psd&&this.errorTipsMsg!==this.TipsMsg[2]?this.psdImgFlag=!1:this.psdImgFlag=!0},checkEffectivePsd:function(){/^[\w]{6,20}$/.test(this.psd)?this.errorTipsMsg="":this.errorTipsMsg=this.TipsMsg[2]},FingerPrintLoginSuccess:function(e){this.$router.replace("/home"),localStorage.setItem("userID",e),window.JSIAppData?window.JSIAppData.saveUserId(e):window.webkit&&window.webkit.messageHandlers.saveUserId.postMessage(e)}},mounted:function(){this.$app.FingerPrintLoginSuccess=this.FingerPrintLoginSuccess,window.JSIAppData?window.JSIAppData.currentPage("login"):window.webkit&&window.webkit.messageHandlers.currentPage.postMessage("login")}},p={render:function(){var e=this,s=e.$createElement,i=e._self._c||s;return i("div",{staticClass:"mine"},[i("a",{staticClass:"backArrow",attrs:{href:"javascript:;"},on:{click:e.goBack}},[i("img",{attrs:{src:t("H5bj")}})]),e._v(" "),i("p",{staticClass:"banner"},[e._v("登录智慧微社区")]),e._v(" "),i("div",{staticClass:"inputPhone"},[i("span",[e._v("+86")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.phoneNumber,expression:"phoneNumber"}],attrs:{type:"text",placeholder:"请输入手机号"},domProps:{value:e.phoneNumber},on:{keyup:e.checkOldphone,blur:e.checkPhone,focus:function(s){return e.changeFlag0("phone")},input:function(s){s.target.composing||(e.phoneNumber=s.target.value)}}}),e.phoneImgFlag?i("img",{directives:[{name:"show",rawName:"v-show",value:e.phoneImgFlag0,expression:"phoneImgFlag0"}],attrs:{src:t("7rtp")}}):i("img",{attrs:{src:t("5hax")}})]),e._v(" "),i("div",{staticClass:"inputPsd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.psd,expression:"psd"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:e.psd},on:{keyup:e.checkEffectivePsd,focus:function(s){return e.changeFlag0("psd")},blur:e.checkPsd,input:function(s){s.target.composing||(e.psd=s.target.value)}}}),e.psdImgFlag?i("img",{directives:[{name:"show",rawName:"v-show",value:e.psdImgFlag0,expression:"psdImgFlag0"}],attrs:{src:t("7rtp")}}):i("img",{attrs:{src:t("5hax")}})]),e._v(" "),i("div",{staticClass:"forgetPsd"},[i("span",[e._v(e._s(e.errorTipsMsg))]),i("span",{on:{click:e.goForgetPsd}},[e._v("忘记密码")])]),e._v(" "),i("div",{staticClass:"btn"},[i("button",{staticClass:"register_btn",on:{click:e.goRegister}},[e._v("注册")]),i("button",{staticClass:"login_btn",on:{click:e.goLogin}},[e._v("登录")])])])},staticRenderFns:[]};var g=t("VU/8")(a,p,!1,function(e){t("tlrg")},"data-v-69a111cc",null);s.default=g.exports},mvHQ:function(e,s,t){e.exports={default:t("qkKv"),__esModule:!0}},qkKv:function(e,s,t){var i=t("FeBl"),n=i.JSON||(i.JSON={stringify:JSON.stringify});e.exports=function(e){return n.stringify.apply(n,arguments)}},tlrg:function(e,s){}});