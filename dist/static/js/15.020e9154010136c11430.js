webpackJsonp([15],{"3+W1":function(e,t,a){e.exports=a.p+"static/img/loading.56c4c67.gif"},hQ4G:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("GQaK"),i=a("mtWM"),o=a.n(i),l={name:"",data:function(){return{tasks:[],taskCourse:[],loadingFlag:!1,pageNO:1,msg01:"玩命加载中~",msg02:"玩命加载中~",loadingFlag02:!1,activeFlag:"",repeat:!1,classes:[],name:"",courseID:"",examType:0,examStatus:-1}},mounted:function(){var e=this;o.a.get("http://www.gk0101.com/teach/rest/v1/course/myExamCourse?userId="+localStorage.getItem("userID")+"&institutionId=10103&examType=0").then(function(t){if(0===t.data.code){var a=t.data.data;e.taskCourse=a}}),o.a.get("http://www.gk0101.com/exam/rest/v1/examSheet/myExam?pageNo=1&pageSize=10&examType=0&institutionId=10103&userId="+localStorage.getItem("userID")+"&examStatus=-1&courseId=").then(function(t){if(0===t.data.code){var a=t.data.data.result;e.tasks=a}e.$nextTick(function(){e.myScroll=new s.a(e.$refs.wrap,{scrollY:!0,click:!0,probeType:3,pullDownRefresh:{threshold:50},pullUpLoad:{threshold:744}}),e.myScroll.on("pullingDown",function(){e.loadingFlag=!0,o.a.get("http://www.gk0101.com/exam/rest/v1/examSheet/myExam?pageNo=1&pageSize=10&examType=0&institutionId=10103&userId="+localStorage.getItem("userID")+"&examStatus=-1&courseId=").then(function(t){if(0===t.data.code){var a=t.data.data.result;e.tasks=a,e.loadingFlag=!1,e.loadingFlag02=!1,e.msg02="玩命加载中~",e.pageNO=1,e.$nextTick(function(){e.myScroll.refresh()}),e.myScroll.finishPullDown()}})}),e.myScroll.on("pullingUp",function(){if(e.pageNO>=4)return e.loadingFlag02=!0,e.msg02="我也是有底线的~",void e.myScroll.finishPullUp();e.loadingFlag02=!0,o.a.get("http://www.gk0101.com/exam/rest/v1/examSheet/myExam?pageNo="+ ++e.pageNO+"&pageSize=10&examType=0&institutionId=10103&userId="+localStorage.getItem("userID")+"&examStatus=-1&courseId=").then(function(t){0===t.data.code&&t.data.data.result.forEach(function(t){e.tasks.push(t),e.loadingFlag02=!1,e.$nextTick(function(){e.myScroll.refresh()}),e.myScroll.finishPullUp()})})}),e.myScroll.on("scroll",function(t){Math.abs(Math.round(t.y))<Math.abs(e.myScroll.maxScrollY)?e.loadingFlag02=!1:e.loadingFlag02=!0})})})},methods:{select:function(e){switch(e){case"type":this.repeat?(this.activeFlag="",this.repeat=!1,this.myScroll.enable(),document.body.style.overflow=""):(this.activeFlag=e,this.classes=[{courseName:"全部"},{courseName:"练习"},{courseName:"课后实操"}],this.repeat=!0,this.myScroll.disable(),document.body.style.overflow="hidden");break;case"course":this.repeat?(this.activeFlag="",this.repeat=!1,this.myScroll.enable(),document.body.style.overflow=""):(this.activeFlag=e,this.classes=this.taskCourse,this.repeat=!0,this.myScroll.disable(),document.body.style.overflow="hidden");break;case"state":this.repeat?(this.activeFlag="",this.repeat=!1,this.myScroll.enable(),document.body.style.overflow=""):(this.activeFlag=e,this.classes=[{courseName:"全部"},{courseName:"待完成"},{courseName:"已完成"}],this.repeat=!0,this.myScroll.disable(),document.body.style.overflow="hidden")}},selectTask:function(e,t,a){var s=this;this.name=e,this.$refs.taskClass.getElementsByClassName("active")[0].childNodes[0].nodeValue=e,this.repeat=!1,this.myScroll.enable(),document.body.style.overflow="",t&&(this.courseID=t),"全部"===e?"练习"===a.target.nextElementSibling.innerHTML?this.examType=0:this.examStatus=-1:"课后实操"===e?this.examType=2:"待完成"===e?this.examStatus=1:"已完成"===e?this.examStatus=9:"练习"===e&&(this.examType=0),o.a.get("http://www.gk0101.com/exam/rest/v1/examSheet/myExam?pageNo=1&pageSize=10&examType="+this.examType+"&institutionId=10103&userId="+localStorage.getItem("userID")+"&examStatus="+this.examStatus+"&courseId="+this.courseID).then(function(e){var t=e.data.data.result;s.tasks=t,s.myScroll.refresh()})},goTask:function(e,t,a){9===e?this.$router.push({name:"CompleteTask",query:{courseId:t,knowPointId:a}}):this.$router.push({name:"Task",query:{courseId:t,knowPointId:a}})}}},c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mytask"},[e._m(0),e._v(" "),s("ul",{ref:"taskClass",staticClass:"taskClass"},[s("li",{class:{active:"type"===e.activeFlag},on:{click:function(t){return e.select("type")}}},[e._v("类型"),s("span",{class:{active:"type"===e.activeFlag}})]),e._v(" "),s("li",{class:{active:"course"===e.activeFlag},on:{click:function(t){return e.select("course")}}},[e._v("所属课程"),s("span",{class:{active:"course"===e.activeFlag}})]),e._v(" "),s("li",{class:{active:"state"===e.activeFlag},on:{click:function(t){return e.select("state")}}},[e._v("状态"),s("span",{class:{active:"state"===e.activeFlag}})])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.repeat,expression:"repeat"}],staticClass:"class_content"},e._l(e.classes,function(t,a){return s("p",{key:a,class:{activeCourse:e.name===t.courseName},on:{click:function(a){return e.selectTask(t.courseName,t.id,a)}}},[e._v(e._s(t.courseName))])}),0),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.loadingFlag,expression:"loadingFlag"}],staticClass:"load_wrap"},[s("img",{staticClass:"loading",attrs:{src:a("3+W1")}}),s("span",{staticClass:"load_span"},[e._v(e._s(e.msg01))])]),e._v(" "),s("div",{ref:"wrap",staticClass:"wrap"},[s("ul",{staticClass:"task_content"},e._l(e.tasks,function(t,a){return s("li",{key:a,on:{click:function(a){return e.goTask(t.examStatus,t.courseId,t.knowPointId)}}},[s("img",{attrs:{src:"http://www.gk0101.com"+t.coverImg}}),e._v(" "),s("span",{staticClass:"task_name"},[e._v(e._s(t.chapterName))]),e._v(" "),s("span",{staticClass:"task_title"},[e._v(e._s(t.knowPointName))]),e._v(" "),s("span",{class:{task_type:0===t.examType,task_type_coursePractice:0!==t.examType}},[e._v(e._s(0===t.examType?"练习":"课后实操"))]),e._v(" "),s("span",{class:{task_progress:9===t.examStatus,task_progress_unfinished:9!==t.examStatus}},[e._v(e._s(9===t.examStatus?"已完成":"待完成"))])])}),0)]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.loadingFlag02,expression:"loadingFlag02"}],staticClass:"load_wrap"},[s("img",{staticClass:"loading",attrs:{src:a("3+W1")}}),s("span",{staticClass:"load_span"},[e._v(e._s(e.msg02))])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header"},[t("a",{attrs:{href:"#/myinfo"}},[t("img",{attrs:{src:a("oa8A")}})]),t("span",[this._v("课后作业")])])}]};var n=a("VU/8")(l,c,!1,function(e){a("oH+h")},"data-v-539c2df5",null);t.default=n.exports},"oH+h":function(e,t){}});