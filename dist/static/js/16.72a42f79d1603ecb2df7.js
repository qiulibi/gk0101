webpackJsonp([16],{"76QL":function(e,t){},Ii1Z:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("mtWM"),n=s.n(a),i={name:"",data:function(){return{courseName:"",knowPointName:"",singleQuestions:[],manyQuestions:[],judgeQuestions:[],countdown:"00-30-00",flag:!1,examSheetId:"",timer:0}},mounted:function(){var e=this,t=this.$route.query.courseId||this.$route.query.id,s=localStorage.getItem("userID"),a=this.$route.query.examType,i=this.$route.query.chapterId;i?(n.a.get("http://www.gjzxedu.com/exam/rest/v1/knowPoint/getChaperName?courseId="+t+"&userId="+s+"&id="+i+"&institutionId=10001").then(function(t){var s=t.data.data;e.courseName=s.courseName,e.knowPointName=s.knowPointName}),n.a.get("http://www.gjzxedu.com/exam/rest/v1/exam/stuPaper?examType="+a+"&courseId="+t+"&equipmentType=3&institutionId=10001&userId="+s+"&chapterId="+i).then(function(t){var s=t.data.data;e.examSheetId=s.examPaperDto.examSheetId,s.examPaperDto.singleSelectsQuestions&&(e.singleQuestions=s.examPaperDto.singleSelectsQuestions),s.examPaperDto.mulSelectsQuestions&&(e.manyQuestions=s.examPaperDto.mulSelectsQuestions),s.examPaperDto.judgeSelectsQuestions&&(e.judgeQuestions=s.examPaperDto.judgeSelectsQuestions)})):(n.a.get("http://www.gjzxedu.com/exam/rest/v1/knowPoint/getChaperName?courseId="+t+"&userId="+s+"&institutionId=10001").then(function(t){var s=t.data.data;e.courseName=s.courseName}),n.a.get("http://www.gjzxedu.com/exam/rest/v1/exam/doMocks?examType="+a+"&courseId="+t+"&equipmentType=3&institutionId=10103&userId="+s+"&chapterId=").then(function(t){var s=t.data.data;e.examSheetId=s.examPaperDto.examSheetId,s.examPaperDto.singleSelectsQuestions&&(e.singleQuestions=s.examPaperDto.singleSelectsQuestions),s.examPaperDto.mulSelectsQuestions&&(e.manyQuestions=s.examPaperDto.mulSelectsQuestions),s.examPaperDto.judgeSelectsQuestions&&(e.judgeQuestions=s.examPaperDto.judgeSelectsQuestions)})),this.$nextTick(function(){var t=1800,s=void 0,a=void 0;e.timer=setInterval(function(){t--,s=parseInt(t/60),a=parseInt(t%60),e.countdown="00-"+s+"-"+a,0===t&&(alert("考试时间到，请确定，系统会自动提交试卷~"),clearInterval(e.timer),n.a.post("http://www.gjzxedu.com/exam/rest/v1/exam/submitPaper?examSheetId="+e.examSheetId).then(function(t){e.$router.replace({name:"ExamRead",query:{examType:e.$route.query.examType,userId:localStorage.getItem("userID"),courseId:e.$route.query.courseId||e.$route.query.id,chapterId:e.$route.query.chapterId,examSheetId:e.examSheetId}})}))},1e3)})},methods:{selectSingleOption:function(e,t,s){for(var a=s.target.parentNode.parentNode.getElementsByTagName("span"),i=0;i<a.length;i++){a[i].style.display="inline-block"}for(var o=s.target.parentNode.parentNode.getElementsByTagName("img"),r=0;r<o.length;r++){o[r].style.display="none"}s.target.previousSibling.style.display="inline",s.target.style.display="none",n.a.post("http://www.gjzxedu.com/exam/rest/v1/exam/saveTestPaper?sysn=false&questionId="+e+"&examSheetId="+this.examSheetId+"&result="+t+"&questionType=1").then(function(e){console.log(e.data)})},selectJudgeOption:function(e,t,s){for(var a=t.target.parentNode.parentNode.getElementsByTagName("img"),i=t.target.parentNode.parentNode.getElementsByTagName("span"),o=0;o<a.length;o++){a[o].style.display="none"}for(var r=0;r<i.length;r++){i[r].style.display="inline-block"}t.target.style.display="none",t.target.previousSibling.style.display="inline",n.a.post("http://www.gjzxedu.com/exam/rest/v1/exam/saveTestPaper?sysn=false&questionId="+e+"&examSheetId="+this.examSheetId+"&result="+s+"&questionType=7").then(function(e){console.log(e.data)})},selectManyOption:function(e,t,s){if("SPAN"===t.target.nodeName){t.target.style.display="none",t.target.previousSibling.style.display="inline";for(var a="",i=t.target.parentNode.parentNode.getElementsByTagName("img"),o=0;o<i.length;o++)"inline"===i[o].style.display&&(a=a+i[o].nextSibling.innerHTML+"@@@@@");var r=a.lastIndexOf("@@@@@");a=a.substring(0,r),n.a.post("http://www.gjzxedu.com/exam/rest/v1/exam/saveTestPaper?sysn=false&questionId="+e+"&examSheetId="+this.examSheetId+"&result="+a+"&questionType=3").then(function(e){console.log(e.data)})}else if("IMG"===t.target.nodeName){t.target.nextSibling.style.display="inline-block",t.target.style.display="none";for(var l="",u=t.target.parentNode.parentNode.getElementsByTagName("img"),m=0;m<u.length;m++)"inline"===u[m].style.display&&(l=l+u[m].nextSibling.innerHTML+"@@@@@");var c=l.lastIndexOf("@@@@@");l=l.substring(0,c),n.a.post("http://www.gjzxedu.com/exam/rest/v1/exam/saveTestPaper?sysn=false&questionId="+e+"&examSheetId="+this.examSheetId+"&result="+l+"&questionType=3").then(function(e){console.log(e.data)})}},submitExam:function(){for(var e=this,t=document.getElementsByClassName("question_options"),s=0;s<t.length;s++){this.flag=!1;for(var a=0;a<t[s].getElementsByTagName("img").length;a++)"inline"===window.getComputedStyle(t[s].getElementsByTagName("img")[a],null).display&&(this.flag=!0);if(!1===this.flag)return void alert("题目没有做完，不能交卷！")}n.a.post("http://www.gjzxedu.com/exam/rest/v1/exam/submitPaper?examSheetId="+this.examSheetId).then(function(t){e.$router.replace({name:"ExamRead",query:{examType:e.$route.query.examType,userId:localStorage.getItem("userID"),courseId:e.$route.query.courseId||e.$route.query.id,chapterId:e.$route.query.chapterId,examSheetId:e.examSheetId}})})}},beforeDestroy:function(){clearInterval(this.timer)}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"doexam clearMargin_top"},[a("div",{staticClass:"header"},[e._m(0),a("span",[e._v(e._s(e.countdown))])]),e._v(" "),a("div",{staticClass:"task_explain"},[a("p",{staticClass:"title"},[e._v("考试说明：")]),e._v(" "),a("p",{staticClass:"chapter"},[e._v(e._s(e.courseName))]),e._v(" "),e.knowPointName?a("p",{staticClass:"section"},[e._v(e._s(e.knowPointName))]):e._e()]),e._v(" "),a("div",{staticClass:"task_content clearMargin_top"},[e._l(e.singleQuestions,function(t){return a("div",{key:t.questionId,staticClass:"task_questions"},[a("span",{staticClass:"type"},[e._v("单选")]),e._v(" "),a("p",{staticClass:"question_title"},[a("span",[e._v(e._s(t.questionNo)+".")]),e._v(e._s(t.questionTitle))]),e._v(" "),a("ul",{staticClass:"question_options"},e._l(t.questItems,function(n,i){return a("li",{key:i},[a("img",{directives:[{name:"show",rawName:"v-show",value:n.selectItem,expression:"item2.selectItem"}],attrs:{src:s("5hax")}}),a("span",{directives:[{name:"show",rawName:"v-show",value:null===n.selectItem,expression:"item2.selectItem === null"}],staticClass:"option_word",on:{click:function(s){return e.selectSingleOption(t.questionId,n.itemsNo,s)}}},[e._v(e._s(n.itemsNo))]),a("span",{staticClass:"option_content"},[e._v(e._s(n.subject))])])}),0)])}),e._v(" "),e._l(e.manyQuestions,function(t){return a("div",{key:t.questionId,staticClass:"task_questions"},[a("span",{staticClass:"type"},[e._v("多选")]),e._v(" "),a("p",{staticClass:"question_title"},[a("span",[e._v(e._s(t.questionNo)+".")]),e._v(e._s(t.questionTitle))]),e._v(" "),a("ul",{staticClass:"question_options"},e._l(t.questItems,function(n,i){return a("li",{key:i},[a("img",{directives:[{name:"show",rawName:"v-show",value:n.selectItem,expression:"item2.selectItem"}],attrs:{src:s("5hax")},on:{click:function(s){return e.selectManyOption(t.questionId,s,n.itemsNo)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:null===n.selectItem,expression:"item2.selectItem === null"}],staticClass:"option_word",on:{click:function(s){return e.selectManyOption(t.questionId,s,n.itemsNo)}}},[e._v(e._s(n.itemsNo))]),a("span",{staticClass:"option_content"},[e._v(e._s(n.subject))])])}),0)])}),e._v(" "),e._l(e.judgeQuestions,function(t){return a("div",{key:t.questionId,staticClass:"task_questions"},[a("span",{staticClass:"type"},[e._v("判断题")]),e._v(" "),a("p",{staticClass:"question_title"},[a("span",[e._v(e._s(t.questionNo)+".")]),e._v(e._s(t.questionTitle))]),e._v(" "),a("ul",{staticClass:"question_options"},[a("li",[a("img",{directives:[{name:"show",rawName:"v-show",value:"right"===t.selAnswer,expression:"item.selAnswer === 'right'"}],attrs:{src:s("5hax")}}),a("span",{directives:[{name:"show",rawName:"v-show",value:null===t.selAnswer||"error"===t.selAnswer,expression:"item.selAnswer === null || item.selAnswer === 'error'"}],staticClass:"option_word",on:{click:function(s){return e.selectJudgeOption(t.questionId,s,1)}}}),a("span",{staticClass:"option_content"},[e._v("正确")])]),e._v(" "),a("li",[a("img",{directives:[{name:"show",rawName:"v-show",value:"error"===t.selAnswer,expression:"item.selAnswer === 'error'"}],attrs:{src:s("5hax")}}),a("span",{directives:[{name:"show",rawName:"v-show",value:"right"===t.selAnswer||null===t.selAnswer,expression:"item.selAnswer === 'right' || item.selAnswer === null"}],staticClass:"option_word",on:{click:function(s){return e.selectJudgeOption(t.questionId,s,0)}}}),a("span",{staticClass:"option_content"},[e._v("错误")])])])])})],2),e._v(" "),a("div",{staticClass:"submit",on:{click:e.submitExam}},[e._v("立即提交")])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("a",{attrs:{href:"#/myexam"}},[t("img",{attrs:{src:s("H5bj")}})])}]};var r=s("VU/8")(i,o,!1,function(e){s("76QL")},"data-v-ff616e80",null);t.default=r.exports}});
//# sourceMappingURL=16.72a42f79d1603ecb2df7.js.map