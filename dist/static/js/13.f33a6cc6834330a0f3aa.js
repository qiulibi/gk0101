webpackJsonp([13],{"mNm+":function(e,t){},v4bR:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("mtWM"),c=a.n(s),r=a("GQaK"),o={name:"",data:function(){return{activeFlag:"",repeat:!1,classes:[],name:"",loadingFlag:!1,msg01:"玩命加载中~",examStatus:-1,examType:-1,exams:[]}},mounted:function(){var e=this;c.a.get("http://www.gk0101.com/teach/rest/v1/course/getMyStudyCourse?userId="+localStorage.getItem("userID")+"&courseId=").then(function(t){var a=t.data.data;e.exams=a,e.exams.forEach(function(e){e.examType=12}),c.a.get("http://www.gk0101.com/exam/rest/v1/studySheet/getStudyChapter?userId="+localStorage.getItem("userID")+"&courseId=").then(function(t){t.data.data.forEach(function(t){t.examType=3,e.exams.push(t)}),c.a.get("http://www.gk0101.com/exam/rest/v1/examSheet/myExam?pageNo=1&pageSize=10&examType=-1&institutionId=10103&userId="+localStorage.getItem("userID")+"&examStatus=-1&courseId=").then(function(t){t.data.data.result.forEach(function(t){1===t.examStatus?t.examStatus="未完成":9===t.examStatus&&(t.examStatus="已完成"),e.exams.push(t)}),e.$nextTick(function(){e.myScroll=new r.a(e.$refs.wrap,{scrollY:!0,click:!0,probeType:3,pullDownRefresh:{threshold:50}}),e.myScroll.on("pullingDown",function(){e.loadingFlag=!0,setTimeout(function(){e.loadingFlag=!1,e.myScroll.finishPullDown()},2e3)})})})})})},methods:{select:function(e){switch(e){case"type":this.repeat?(this.activeFlag="",this.repeat=!1,this.myScroll.enable(),document.body.style.overflow=""):(this.activeFlag=e,this.classes=[{courseName:"全部"},{courseName:"章节测验"},{courseName:"综合模拟"},{courseName:"综合考试"}],this.repeat=!0,this.myScroll.disable(),document.body.style.overflow="hidden");break;case"course":this.repeat?(this.activeFlag="",this.repeat=!1,this.myScroll.enable(),document.body.style.overflow=""):(this.activeFlag=e,this.classes=[{courseName:"全部"}],this.repeat=!0,this.myScroll.disable(),document.body.style.overflow="hidden");break;case"state":this.repeat?(this.activeFlag="",this.repeat=!1,this.myScroll.enable(),document.body.style.overflow=""):(this.activeFlag=e,this.classes=[{courseName:"全部"},{courseName:"待完成"},{courseName:"已完成"}],this.repeat=!0,this.myScroll.disable(),document.body.style.overflow="hidden")}},selectExam:function(e,t){var a=this;this.name=e,this.$refs.taskClass.getElementsByClassName("active")[0].childNodes[0].nodeValue=e,this.repeat=!1,this.myScroll.enable(),document.body.style.overflow="","全部"===e&&(null===t.target.nextElementSibling?console.log(123):"章节测验"===t.target.nextElementSibling.innerHTML?this.examType=-1:"待完成"===t.target.nextElementSibling.innerHTML&&(this.examStatus=-1)),"章节测验"===e&&(this.examType=3),"综合模拟"===e&&(this.examType=12),"综合考试"===e&&(this.examType=15),"待完成"===e&&(this.examStatus=1),"已完成"===e&&(this.examStatus=9),c.a.get("http://www.gk0101.com/teach/rest/v1/course/getMyStudyCourse?userId="+localStorage.getItem("userID")+"&courseId=").then(function(e){var t=e.data.data;a.exams=t,a.exams.forEach(function(e){e.examType=12}),c.a.get("http://www.gk0101.com/exam/rest/v1/studySheet/getStudyChapter?userId="+localStorage.getItem("userID")+"&courseId=").then(function(e){e.data.data.forEach(function(e){e.examType=3,a.exams.push(e)}),c.a.get("http://www.gk0101.com/exam/rest/v1/examSheet/myExam?pageNo=1&pageSize=10&examType="+a.examType+"&institutionId=10103&userId="+localStorage.getItem("userID")+"&examStatus="+a.examStatus+"&courseId=").then(function(e){e.data.data.result.forEach(function(e){1===e.examStatus?e.examStatus="未完成":9===e.examStatus&&(e.examStatus="已完成"),a.exams.push(e)}),a.myScroll.refresh()})})})},goDoExam:function(e,t,a,s,c){"已完成"===c?this.$router.push({name:"ExamRead",query:{examType:e,userId:localStorage.getItem("userID"),courseId:a,chapterId:s,examSheetId:t}}):this.$router.push({name:"DoExam",query:{examType:e,id:t,courseId:a,chapterId:s}})}}},n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"myexam"},[e._m(0),e._v(" "),s("ul",{ref:"taskClass",staticClass:"taskClass"},[s("li",{class:{active:"type"===e.activeFlag},on:{click:function(t){return e.select("type")}}},[e._v("类型"),s("span",{class:{active:"type"===e.activeFlag}})]),e._v(" "),s("li",{class:{active:"course"===e.activeFlag},on:{click:function(t){return e.select("course")}}},[e._v("所属课程"),s("span",{class:{active:"course"===e.activeFlag}})]),e._v(" "),s("li",{class:{active:"state"===e.activeFlag},on:{click:function(t){return e.select("state")}}},[e._v("状态"),s("span",{class:{active:"state"===e.activeFlag}})])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.repeat,expression:"repeat"}],staticClass:"class_content"},e._l(e.classes,function(t,a){return s("p",{key:a,class:{activeCourse:e.name===t.courseName},on:{click:function(a){return e.selectExam(t.courseName,a)}}},[e._v(e._s(t.courseName))])}),0),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.loadingFlag,expression:"loadingFlag"}],staticClass:"load_wrap"},[s("img",{staticClass:"loading",attrs:{src:a("3+W1")}}),s("span",{staticClass:"load_span"},[e._v(e._s(e.msg01))])]),e._v(" "),s("div",{ref:"wrap",staticClass:"wrap"},[s("ul",{staticClass:"Exam_content"},e._l(e.exams,function(t,a){return s("li",{key:a,on:{click:function(a){return e.goDoExam(t.examType,t.id,t.courseId,t.chapterId,t.examStatus)}}},[s("img",{attrs:{src:"http://www.gk0101.com"+t.coverImg}}),e._v(" "),s("span",{staticClass:"exam_name"},[e._v(e._s(t.courseName))]),e._v(" "),s("span",{staticClass:"exam_title"},[e._v(e._s(t.knowPointName))]),e._v(" "),s("span",{staticClass:"exam_score"},[e._v("得分："),s("span",[e._v(e._s(t.examSheetScore))])]),e._v(" "),s("span",{class:{exam_type:12===t.examType,exam_type_chapter:12!==t.examType}},[e._v(e._s(12===t.examType?"综合模拟":"章节测验"))]),e._v(" "),s("span",{class:{exam_progress:"已完成"===t.examStatus,exam_progress_unfinished:"未完成"===t.examStatus,exam_progress_null:null===t.examStatus}},[e._v(e._s(null===t.examStatus?"":t.examStatus))])])}),0)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header"},[t("a",{attrs:{href:"#/myinfo"}},[t("img",{attrs:{src:a("oa8A")}})]),t("span",[this._v("我的考试")])])}]};var i=a("VU/8")(o,n,!1,function(e){a("mNm+")},"data-v-d26763de",null);t.default=i.exports}});