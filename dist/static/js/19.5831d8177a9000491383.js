webpackJsonp([19],{"6KO2":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("mtWM"),r=s.n(a),i={name:"",data:function(){return{toBeLearnCourse:[],alreadyLearnCourse:[],publicSituation:[],studyRatio:[],studyRatio2:[],API_ROOT:"http://gjzxedu.gtafe.com/",swiperOption:{on:{slideChangeTransitionEnd:function(){for(var e=document.getElementById("myCourseClass").getElementsByTagName("li"),t=0;t<e.length;t++)t===this.activeIndex?e[t].setAttribute("class","activeSelect"):e[t].setAttribute("class","")}}}}},created:function(){this.requestCourseList(0),this.requestCourseList(1)},methods:{goCourseVideo:function(e){this.$router.push({name:"CourseDetail",query:{courseId:e}})},selectMenu:function(e){var t=document.getElementById("myCourseClass").getElementsByTagName("li");0===e?(t[0].setAttribute("class","activeSelect"),t[1].setAttribute("class",""),this.$refs.myswiper.swiper.slideTo(0,300,!1)):1===e&&(t[1].setAttribute("class","activeSelect"),t[0].setAttribute("class",""),this.$refs.myswiper.swiper.slideTo(1,300,!1))},requestCourseList:function(e){var t=this,s=localStorage.getItem("userID"),a=new URLSearchParams;a.append("pageNo",1),a.append("pageSize",1e4),a.append("userId",s),a.append("institutionId",10103),a.append("studyStatus",e),a.append("orderStatus",9),r.a.post("http://gjzxedu.gtafe.com//teach/rest/v1/course/myCourseInfoList",a).then(function(s){if(0===s.data.code){var a=s.data.data.result;0===e?t.toBeLearnCourse=a:t.alreadyLearnCourse=a;for(var r=0;r<a.length;r++)0===e?t.studyRatio.push(parseInt(a[r].learnedMic/a[r].totalMic*100)):t.studyRatio2.push(parseInt(a[r].learnedMic/a[r].totalMic*100))}})},paintProess:function(e,t){var s=document.getElementsByClassName("swiper-slide")[e].getElementsByTagName("canvas");if(s.length>0){s[0].height;for(var a=.028*s[0].height,r=.083*s[0].height,i=s[0].width,n=s[0].height/2,o=0;o<s.length;o++){var u=s[o].getContext("2d");u.save(),u.fillStyle="#999999",u.lineWidth=a,u.beginPath(),u.fillRect(0,n,i,12),u.stroke(),u.closePath(),u.restore(),u.save(),u.fillStyle="#3246D8",u.lineWidth=r,u.beginPath(),u.fillRect(0,n,t[o]*(i/100),12),u.stroke(),u.closePath(),u.restore()}}}},mounted:function(){var e=this;setTimeout(function(){e.paintProess(0,e.studyRatio),e.paintProess(1,e.studyRatio2)},600)}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mycourse"},[e._m(0),e._v(" "),a("ul",{staticClass:"myCourseClass",attrs:{id:"myCourseClass"}},[a("li",{staticClass:"activeSelect",on:{click:function(t){return e.selectMenu(0)}}},[e._v("待学习("+e._s(e.toBeLearnCourse.length)+")")]),e._v(" "),a("li",{on:{click:function(t){return e.selectMenu(1)}}},[e._v("已学习("+e._s(e.alreadyLearnCourse.length)+")")])]),e._v(" "),a("swiper",{ref:"myswiper",attrs:{options:e.swiperOption}},[a("swiper-slide",[e._l(e.toBeLearnCourse,function(t,s){return a("div",{key:s,staticClass:"courseInfoDetail",on:{click:function(s){return e.goCourseVideo(t.courseId)}}},[a("img",{attrs:{src:e.API_ROOT+t.coverImg}}),e._v(" "),a("span",{staticClass:"courseInfo_coursetitle"},[e._v(e._s(t.courseName))]),e._v(" "),a("span",{staticClass:"courseInfo_courseTotal"},[e._v(e._s(t.totalMic)+"节微课")]),e._v(" "),a("canvas"),e._v(" "),a("span",{staticClass:"courseInfo_studyRatio"},[e._v(e._s(e.studyRatio[s])+"%")])])}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0===e.toBeLearnCourse.length,expression:"toBeLearnCourse.length === 0"}],staticClass:"notFound"},[a("img",{staticClass:"notFound_img",attrs:{src:s("9ikC")}}),e._v(" "),a("span",[e._v("暂无课程信息")])])],2),e._v(" "),a("swiper-slide",[e._l(e.alreadyLearnCourse,function(t,s){return a("div",{key:s,staticClass:"courseInfoDetail",on:{click:function(s){return e.goCourseVideo(t.courseId)}}},[a("img",{attrs:{src:e.API_ROOT+t.coverImg}}),e._v(" "),a("span",{staticClass:"courseInfo_coursetitle"},[e._v(e._s(t.courseName))]),e._v(" "),a("span",{staticClass:"courseInfo_courseTotal"},[e._v(e._s(t.totalMic)+"节微课")]),e._v(" "),a("canvas"),e._v(" "),a("span",{staticClass:"courseInfo_studyRatio"},[e._v(e._s(e.studyRatio2[s])+"%")])])}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0===e.alreadyLearnCourse.length,expression:"alreadyLearnCourse.length === 0"}],staticClass:"notFound"},[a("img",{staticClass:"notFound_img",attrs:{src:s("9ikC")}}),e._v(" "),a("span",[e._v("暂无课程信息")])])],2)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header"},[t("a",{attrs:{href:"#/myinfo"}},[t("img",{attrs:{src:s("oa8A")}})]),t("span",[this._v("我的课程")])])}]};var o=s("VU/8")(i,n,!1,function(e){s("icNg")},"data-v-5a18a609",null);t.default=o.exports},"9ikC":function(e,t,s){e.exports=s.p+"static/img/noCourse@2x.5a2d8a1.png"},icNg:function(e,t){}});